# grunt-contrib-manifest [![Build Status](https://secure.travis-ci.org/gunta/grunt-contrib-manifest.png?branch=master)](http://travis-ci.org/gunta/grunt-contrib-manifest)
> Generate HTML5 Cache Manifest files (will become part of the [grunt-contrib](https://github.com/gruntjs/grunt-contrib) collection). Submitted by [Gunther Brunner](/gunta).


## Getting Started
Install this grunt plugin next to your project's [grunt.js gruntfile][getting_started] with: `npm install grunt-contrib-manifest`

Then add this line to your project's `grunt.js` gruntfile:

```javascript
grunt.loadNpmTasks('grunt-contrib-manifest');
```

[grunt]: https://github.com/cowboy/grunt
[getting_started]: https://github.com/cowboy/grunt/blob/master/docs/getting_started.md


### Overview

Inside your `grunt.js` file add a section named `manifest`.
Visit the [Appcache Facts](http://appcachefacts.info/) for more information on Cache Manifest files.




#### Parameters

##### options ```object```

This controls how this task (and its helpers) operate and should contain key:value pairs, see options below.

##### src (required)  ```string|array```

Sets the input files.

##### dest (optional) ```string```

Sets the name of the Cache Manifest file.
By default the standard ```manifest.appcache``` filename will be used.

#### Options

##### basePath (optional)  ```string```

Sets the base path for **input files**. **It's recommended to set this**.

##### cache (optional)  ```string```

Adds manually a string to the CACHE section. Needed when you have cache buster for example.

##### exclude (optional)  ```string|array```

Exclude specific files from the Cache Manifest file.

##### network (optional)  ```string|array```

Adds a string to the NETWORK section.

By default ```an online whitelist wildcard "*"``` flag is added.

See [here](http://diveintohtml5.info/offline.html#network) for more information.

##### fallback (optional)  ```string|array```

Adds a string to the FALLBACK section.

See [here](http://diveintohtml5.info/offline.html#fallback) for more information.

##### preferOnline (optional)  ```boolean```

Adds a string to the SETTINGS section, specifically the cache mode flag of the ```prefer-online``` state.

See [here](http://www.whatwg.org/specs/web-apps/current-work/multipage/offline.html#concept-appcache-mode-prefer-online) for more information.

##### verbose (optional)  ```boolean```

Adds a "copyright" comment. **True** by default.

##### timestamp (optional)  ```boolean```

Adds a timestamp as a comment for easy versioning. **True** by default.


#### Config Example

``` javascript
manifest: {
  generate: {
    options: {
      basePath: "../",
      cache: ["js/app.js", "css/style.css"]
      network: ["http://*", "https://*"],
      fallback: ["/ /offline.html"],
      exclude: ["js/jquery.min.js"],
      preferOnline: true,
      verbose: true,
      timestamp: true
    },
    src: [
    	"some_files/*.html",
    	"js/*.min.js",
    	"css/*.css"
    ],
    dest: "manifest.appcache"
  }
}
```

#### Output example

```
CACHE MANIFEST
# This manifest was generated by grunt-contrib HTML5 Cache Manifest Generator
# Time: Mon Jan 01 2155 22:23:24 GMT+0900 (JST)

CACHE:
js/app.js
css/style
css/style.css
js/zepto.min.js
js/script.js
some_files/index.html
some_files/about.html

NETWORK:
*

```

You do need to be fully aware of standard browser caching.
If the files in `CACHE` are in the network cache, they won't actually update,
since the network cache will spit back the same file to the application cache.
Therefore, it's recommended to add a hash to the filenames's, akin to rails or yeoman.


## Release History

* 2012/10/23 - v0.2.1 - Added possibility to manually specify "CACHE:" files. Made comments optional.
* 2012/09/28 - v0.2.0 - Refactored from grunt-contrib into individual repo.


